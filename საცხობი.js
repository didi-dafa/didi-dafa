var საცხობი=function(){
    function ტექსტური(გასაღები, სასტარტო){
        var მნიშვნელობა=მომე_ნამცხვარი(გასაღები)
        if(!მნიშვნელობა){
            return სასტარტო
        }
        return მნიშვნელობა
    }
    function ციფრული(გასაღები, სასტარტო){
        var მნიშვნელობა=+მომე_ნამცხვარი(გასაღები)
        if(!მნიშვნელობა){
            return სასტარტო
        }
        return მნიშვნელობა
    }

    var ეს = {
        ხ:ციფრული('ხ',0),
        ჯ:ციფრული('ჯ',0),
        ენა:ტექსტური('ენა','ქართული-საქართველო'),
        მიჭირავს:ტექსტური('მიჭირავს','ხელი'),
        ფერი:ტექსტური('ფერი','rgb(0,0,0)'),
        სახელი:ტექსტური('სახელი','მეგობარი 0001'),
        სისქე:ციფრული('სისქე',1),
        მიე_ფერი:function(ფერი){
            var შეიცვალა=ეს.ფერი!=ფერი
            ეს.ფერი=ფერი
            მიე_ნამცხვარი('არჩეული_ფერი', ფერი, ერთი_თვის_მერე())
            return შეიცვალა
        },
        მიე_ენა:function(ენა){
            var შეიცვალა=ეს.ენა!=ენა
            ეს.ენა=ენა
            მიე_ნამცხვარი('ენა', ენა, ერთი_თვის_მერე())
            return შეიცვალა
        },
        მიე_მიჭირავს:function(მიჭირავს){
            var შეიცვალა=ეს.მიჭირავს==მიჭირავს
            ეს.მიჭირავს=მიჭირავს
            მიე_ნამცხვარი('მიჭირავს', მიჭირავს, ერთი_თვის_მერე())
            return შეიცვალა
        },
        მიე_სახელი:function(სახელი){
            var შეიცვალა=ეს.სახელი!=სახელი
            ეს.სახელი=სახელი
            მიე_ნამცხვარი('სახელი', სახელი, ერთი_თვის_მერე())
            return შეიცვალა
        },
        მიე_სისქე:function(სისქე){
            var შეიცვალა=ეს.სისქე!=სისქე
            ეს.სისქე=სისქე
            მიე_ნამცხვარი('სისქე', სისქე, ერთი_თვის_მერე())
            return შეიცვალა
        },
        შეინახე_მდებარეობა:function(){
            მიე_ნამცხვარი('ხ', ეს.ხ, ერთი_თვის_მერე())
            მიე_ნამცხვარი('ჯ', ეს.ჯ, ერთი_თვის_მერე())
        }
    }
    return ეს
}

function მომე_ნამცხვარი(სახელი){
    var ნამცხვრები = document.cookie.match(
            encodeURIComponent(სახელი)+"=(.*?)(;|$)")
    if(!ნამცხვრები){
        return 
    }
    return decodeURIComponent(ნამცხვრები[1])
}

function მიე_ნამცხვარი(სახელი, მნიშვნელობა, ვადა){
    var მისაცემი=encodeURIComponent(სახელი)+'='+
            encodeURIComponent(მნიშვნელობა)
    if(ვადა){
        მისაცემი+=';expires='+new Date(ვადა).toUTCString()
    }
    document.cookie=მისაცემი
}

function ერთი_თვის_მერე(){
    var ახლა = new Date().getTime(),
        მერე=ახლა+1000*60*60*24*30
    return მერე
}